# AutoFlow 视频制作工具 - 用户手册

## 📋 目录
1. [软件介绍](#软件介绍)
2. [系统要求](#系统要求)
3. [安装指南](#安装指南)
4. [使用方法](#使用方法)
5. [配置说明](#配置说明)
6. [常见问题](#常见问题)
7. [技术支持](#技术支持)

## 🎯 软件介绍

AutoFlow 是一个自动化视频制作工具，可以帮您批量制作教学视频。只需要准备好课件内容，软件就能自动完成视频制作流程。

**主要功能：**
- 自动登录视频制作平台
- 批量处理多个视频内容
- 智能网络重试机制
- 自动保存制作进度
- 详细的操作日志

## 💻 系统要求

- **操作系统：** Windows 10/11
- **内存：** 至少 4GB RAM
- **硬盘空间：** 至少 2GB 可用空间
- **网络：** 稳定的互联网连接
- **浏览器：** 程序会自动安装 Chromium 浏览器

## 🚀 安装指南

### 方法一：使用预编译版本（推荐）
1. 下载 `AutoFlow视频制作工具.exe`
2. 将程序放在一个专门的文件夹中
3. 确保同一文件夹中包含：
   - `data` 文件夹（存放课件数据）
   - `config.json` 配置文件
4. 双击运行程序

### 方法二：从源码安装
1. 确保已安装 Python 3.8 或更高版本
2. 双击运行 `build.bat` 文件
3. 等待自动安装完成
4. 在 `dist` 文件夹中找到生成的可执行文件

## 📖 使用方法

### 第一步：准备数据文件
1. 将您的课件数据文件放入 `data` 文件夹
2. 文件命名格式：`章节号.json`（例如：`1.1.json`、`2.3.json`）
3. 确保 JSON 文件格式正确

### 第二步：配置登录信息
1. 打开 `config.json` 文件
2. 修改用户名和密码：
```json
{
  "login": {
    "username": "您的用户名",
    "password": "您的密码"
  }
}
```
3. 保存文件

### 第三步：运行程序
1. 双击 `AutoFlow视频制作工具.exe`
2. 按提示输入章节号（例如：1.1）
3. 程序会自动：
   - 检测网络状况
   - 登录平台
   - 批量制作视频
   - 保存操作日志

### 第四步：查看结果
- 制作进度会实时显示在控制台
- 错误截图保存在 `logs` 文件夹
- 程序完成后会显示统计报告

## ⚙️ 配置说明

### config.json 配置文件详解

```json
{
  "login": {
    "username": "登录用户名",
    "password": "登录密码"
  },
  "settings": {
    "target_avatar_id": "410a1f0",  // 主播形象ID
    "headless_mode": false,          // 是否隐藏浏览器窗口
    "max_retries": 3,               // 最大重试次数
    "base_timeout": 60000           // 基础超时时间(毫秒)
  },
  "paths": {
    "data_folder": "data",          // 数据文件夹路径
    "logs_folder": "logs"           // 日志文件夹路径
  }
}
```

### 数据文件格式

每个 JSON 数据文件应包含以下结构：

```json
{
  "slides": [
    {
      "chapter": 1,
      "section": 1,
      "main_title": "课程标题",
      "slide_number": 1,
      "video_script": "视频脚本内容..."
    }
  ]
}
```

## ❓ 常见问题

### Q1: 程序启动后提示"未找到数据文件"
**解决方案：**
- 检查 `data` 文件夹是否存在
- 确认输入的章节号对应的 JSON 文件存在
- 检查文件名格式是否正确（如：1.1.json）

### Q2: 登录失败
**解决方案：**
- 检查 `config.json` 中的用户名和密码是否正确
- 确认网络连接正常
- 尝试手动登录网站验证账号状态

### Q3: 网络超时频繁
**解决方案：**
- 检查网络连接稳定性
- 程序会自动检测网络状况并调整等待时间
- 可以在配置文件中增加 `base_timeout` 值

### Q4: 程序运行中断
**解决方案：**
- 查看 `logs` 文件夹中的错误截图
- 重新运行程序，会从中断处继续
- 如果问题持续，请联系技术支持

### Q5: 找不到浏览器
**解决方案：**
- 确保已运行过 `build.bat` 安装脚本
- 手动运行：`playwright install chromium`
- 重启程序

## 📞 技术支持

如果您遇到其他问题，请：

1. **查看日志文件：** 检查 `logs` 文件夹中的截图和错误信息
2. **重试操作：** 大多数网络相关问题可以通过重试解决
3. **联系支持：** 提供详细的错误信息和操作步骤

## 📝 使用提示

1. **网络环境：** 建议在网络稳定的环境下使用
2. **数据备份：** 定期备份您的数据文件
3. **批量处理：** 可以一次处理整个章节的所有视频
4. **监控进度：** 程序会实时显示处理进度和成功率
5. **错误恢复：** 程序具有自动重试机制，大多数临时错误会自动恢复

---

**版本信息：** v1.0.0  
**更新日期：** 2024年1月  
**兼容性：** Windows 10/11