# AutoFlow 安装指南

## 🎯 推荐安装方式

### 方式1: 离线安装 (最佳选择)

**适用人群**: 所有用户，特别是网络受限或追求最快安装速度的用户

```bash
# 完全离线安装
offline-setup.bat
```

**特点**:
- ✅ 使用本地预编译包，无需网络下载
- ✅ 专为Windows 64位优化
- ✅ 100%避免编译问题
- ✅ 安装速度最快，成功率最高
- ✅ 支持完全离线环境
- ✅ 包含所有必要依赖

**使用方法**:
1. 确保 `wheels` 目录包含预编译包
2. 双击 `offline-setup.bat`
3. 等待安装完成
4. 双击 `offline-run.bat` 运行程序

**要求**:
- Windows 64位系统
- Python 3.8+
- wheels目录中包含预编译包

---

### 方式2: 一键安装 (简单)

**适用人群**: 所有用户，特别是非技术用户

```bash
# 直接双击运行
一键安装.bat
```

**特点**:
- ✅ 一键完成，无需选择
- ✅ 使用预编译包，100%避免编译问题
- ✅ 专为Windows x86优化
- ✅ 安装后可直接使用

**使用方法**:
1. 双击 `一键安装.bat`
2. 等待安装完成
3. 双击 `一键启动.bat` 运行程序

---

### 方式3: 选择安装 (灵活)

**适用人群**: 希望了解不同安装方式的用户

```bash
# 提供多种安装选项
choose-setup.bat
```

**包含选项**:
1. **离线安装** - 最佳选择，完全离线
2. **预编译安装** - 推荐，完全无编译
3. **便携式安装** - 备选方案，虚拟环境
4. **标准安装** - 传统方式，可能需要编译工具
5. **Docker安装** - 容器化，适合技术用户
6. **云端方案** - 无需本地安装

---

## 🔧 详细安装方式

### 离线安装 (最佳选择)

```bash
offline-setup.bat
```

**优势**:
- 使用本地预编译包，无需网络下载
- 专为Windows 64位优化
- 100%避免编译问题
- 安装速度最快，成功率最高
- 支持完全离线环境
- 包含所有必要的依赖包

**要求**:
- Windows 64位系统
- Python 3.8或更高版本
- wheels目录中包含预编译包

**运行**: `offline-run.bat`

**打包**: `offline-build.bat`

### 预编译安装 (推荐)

```bash
precompiled-setup.bat
```

**优势**:
- 使用预编译的wheel包
- 完全避免Visual C++编译问题
- 安装速度快，成功率高
- 专为x86架构优化

**运行**: `precompiled-run.bat`

### 便携式安装

```bash
portable-setup.bat
```

**优势**:
- 使用Python虚拟环境
- 大多数情况下避免编译问题
- 环境隔离，不影响系统Python

**运行**: `portable-run.bat`

### 标准安装

```bash
# 中文版
安装.bat

# 英文版
setup.bat
```

**特点**:
- 传统安装方式
- 可能需要Visual C++构建工具
- 包含自动修复功能

**运行**: `启动程序.bat` 或 `run.bat`

### Docker安装

```bash
docker-setup.bat
```

**要求**:
- 已安装Docker Desktop
- 至少4GB内存

**运行**: `docker-run.bat`

### 云端方案

详见: [cloud-solution.md](cloud-solution.md)

**选项**:
- GitHub Codespaces (推荐)
- Google Colab
- Replit
- WSL

---

## 🚨 常见问题解决

### Q: Visual C++编译错误

**解决方案** (按推荐顺序):
1. 使用预编译安装: `precompiled-setup.bat`
2. 使用便携式安装: `portable-setup.bat`
3. 使用Docker: `docker-setup.bat`
4. 使用云端方案
5. 手动修复: `fix-vcpp-error.bat`

### Q: 网络下载失败

**解决方案**:
1. 检查网络连接
2. 使用手机热点
3. 手动下载wheel包到 `wheels/` 目录
4. 使用离线安装包

### Q: Python版本不兼容

**要求**: Python 3.8+

**解决方案**:
1. 升级Python到最新版本
2. 使用Docker方案 (内置Python)
3. 使用云端方案

### Q: 权限问题

**解决方案**:
1. 以管理员身份运行
2. 检查杀毒软件设置
3. 使用便携式安装 (无需管理员权限)

---

## 📁 文件说明

### 安装脚本
- `一键安装.bat` - 最简单的安装方式
- `一键启动.bat` - 快速启动程序
- `choose-setup.bat` - 安装方式选择器
- `precompiled-setup.bat` - 预编译安装
- `portable-setup.bat` - 便携式安装
- `安装.bat` / `setup.bat` - 标准安装
- `docker-setup.bat` - Docker安装

### 运行脚本
- `precompiled-run.bat` - 预编译版启动
- `portable-run.bat` - 便携式启动
- `启动程序.bat` / `run.bat` - 标准启动
- `docker-run.bat` - Docker启动

### 打包脚本
- `precompiled-build.bat` - 预编译版打包
- `portable-build.bat` - 便携式打包
- `build.bat` - 标准打包

### 工具脚本
- `prepare-wheels.bat` - 下载预编译包
- `install-from-wheels.bat` - 离线安装
- `fix-vcpp-error.bat` - 修复编译错误

---

## 🎉 安装成功后

1. **配置程序**: 编辑 `config.json`
2. **准备数据**: 检查 `data/` 目录
3. **运行程序**: 使用对应的启动脚本
4. **查看日志**: 检查 `logs/` 目录

---

## 📞 技术支持

如果遇到问题:
1. 查看 [README.md](README.md)
2. 查看 [manual.md](manual.md)
3. 查看 [cloud-solution.md](cloud-solution.md)
4. 检查 `logs/` 目录中的错误日志

---

**推荐安装流程**:
1. 首先尝试: `一键安装.bat`
2. 如果失败: `choose-setup.bat` → 选择预编译安装
3. 仍然失败: 考虑Docker或云端方案

**记住**: 预编译安装是最稳定的方案，适合99%的用户！